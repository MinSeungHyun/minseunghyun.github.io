---
title: LiveData vs ObservableField ë¬´ì—‡ì„ ì¨ì•¼ í• ê¹Œ?
categories: [Android]
tags: [Android, AAC, DataBinding]
---
![Android Jetpack](image_path="/assets/images/post/5/jetpack.png")
DataBindingì„ ì‚¬ìš©í•˜ëŠ” ë¶„ë“¤ì´ë¼ë©´ LiveData ë˜ëŠ” ObservableFieldë¥¼ ì‚¬ìš©í•´ ë³´ì…¨ì„ ê²ë‹ˆë‹¤.  
ê·¸ëŸ°ë° ObservableFieldì™€ LiveData ì¤‘ ì–´ë–¤ ê²ƒì„ ì‚¬ìš©í•´ì•¼ í• ê¹Œìš”?  

ìš°ì„  ê²°ë¡ ë¶€í„° ë§ì”€ë“œë¦¬ìë©´ ì €ëŠ” LiveDataë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤.  

ê·¸ëŸ¼ ì´ì œ ì´ ë‘˜ì„ ë¹„êµí•´ë³¼ê¹Œìš”?

**ì°¸ê³ **  
ì—¬ê¸°ì„œ ë§í•˜ëŠ” ObservableFieldëŠ” ObservableInt, ObservableMapê³¼ ê°™ì€ ëª¨ë“  ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
{: .notice--info}

## ì‚¬ìš©ë²•
### ObservableField  
ObservableFieldëŠ” DataBindingì„ í™œì„±í™”í•´ì•¼ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.
```kotlin
private val observableString = ObservableField<String>("Default value")

observableString.addOnPropertyChangedCallback(object : Observable.OnPropertyChangedCallback() {
    override fun onPropertyChanged(sender: Observable?, propertyId: Int) {
        //Do something
    }
})
```

### LiveData  
LiveDataë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ [Lifecycle](https://developer.android.com/jetpack/androidx/releases/lifecycle){:target="_blank"} ì¢…ì†ì„±ì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.
```kotlin
private val observableString = MutableLiveData<String>("Default value")

observableString.observe(lifecycleOwner, Observer {
    //Do something
})
```

## ì°¨ì´ì 
ë‘˜ë‹¤ observeí•œë‹¤ëŠ” ê²ƒì€ ë˜‘ê°™ì§€ë§Œ LiveDataë¥¼ observe í•  ë•ŒëŠ” lifecycleOwnerë¼ëŠ” ì¸ìê°€ í•˜ë‚˜ ë” ë“¤ì–´ê°”ì£ .  
(LiveDataë„ observeForeverë¼ëŠ” ë©”ì†Œë“œë¡œ lifecycleOwner ì—†ì´ observe í•  ìˆ˜ ìˆì§€ë§Œ ê¶Œì¥í•˜ëŠ” ì‚¬í•­ì€ ì•„ë‹™ë‹ˆë‹¤.)  
ì´ ì½”ë“œì—ì„œ ì‚¬ìš©í•œ lifecycleOwnerëŠ” Activityì…ë‹ˆë‹¤. `val lifecycleOwner = this`  

ì—¬ê¸°ì„œ LiveDataì™€ ObservableFieldì˜ í° ì°¨ì´ì ì´ ë“œëŸ¬ë‚©ë‹ˆë‹¤.  

**LiveDataëŠ” lifecycleì„ ì¸ì§€í•˜ê³  ìë™ìœ¼ë¡œ observe ìƒíƒœë¥¼ ê´€ë¦¬í•´ì¤ë‹ˆë‹¤.**  

ì´ë¡œì¸í•´ ìƒê¸°ëŠ” ì¥ì 
1. ObservableFieldëŠ” Observerë¥¼ ì¶”ê°€í•˜ê³  ì´ë¥¼ `removeOnPropertyChangedCallback`ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì§ì ‘ ì œê±°í•´ì•¼ í•˜ì§€ë§Œ  
LiveDataëŠ” ì‚¬ìš©ë˜ì§€ ì•Šì„ ë•Œ ìë™ìœ¼ë¡œ observingì„ í•´ì œí–ˆë‹¤ê°€ ì‚¬ìš©ë  ë•Œ ë‹¤ì‹œ observeí•˜ê²Œ ë©ë‹ˆë‹¤.
2. ë¶ˆí•„ìš”í•œ observingì´ ì‚¬ë¼ì§‘ë‹ˆë‹¤.  
3. ì´ë¡œì¸í•´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ì˜ ìœ„í—˜ì´ ì‚¬ë¼ì§‘ë‹ˆë‹¤.

___
ì´ì™€ ê´€ë ¨ëœ í•œê°€ì§€ ì‹¤í—˜ì„ í•´ë´¤ìŠµë‹ˆë‹¤.  
ì•¡í‹°ë¹„í‹°ê°€ onStopë˜ë©´ ê°’ì´ ë³€ê²½ë˜ê²Œ í•˜ê³ , LiveDataì™€ ObservableFieldì˜ ê°’ì˜ ë³€í™”ë¥¼ ê´€ì°°í–ˆìŠµë‹ˆë‹¤.
```kotlin
class MainActivity : AppCompatActivity() {
    private val observableField = ObservableField("default")
    private val liveData = MutableLiveData("default")

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        observableField.addOnPropertyChangedCallback(object : Observable.OnPropertyChangedCallback() {
            override fun onPropertyChanged(sender: Observable?, propertyId: Int) {
                Log.d("testing", "ObservableField: ${observableField.get()}")
            }
        })

        liveData.observe(this, Observer {
            Log.d("testing", "LiveData: ${liveData.value}")
        })
    }

    override fun onStop() {
        super.onStop()
        observableField.set("changed")
        liveData.value = "changed"
    }
}
```
ì•±ì„ ì‹¤í–‰ì‹œí‚¤ê³  í™ˆ í™”ë©´ìœ¼ë¡œ ë‚˜ê°”ìŠµë‹ˆë‹¤.  
ì—­ì‹œë‚˜ ObservableFieldëŠ” ë‚˜ê°€ì ë§ˆì ë¡œê·¸ì— ê°’ì´ ë³€ê²½ë˜ì—ˆë‹¤ê³  ë–´ê³ ,  
LiveDataëŠ” ë‚˜ê°„ í›„ì—ëŠ” ë¡œê·¸ê°€ ëœ¨ì§€ ì•Šë‹¤ê°€ ë‹¤ì‹œ ì•±ì— ë“¤ì–´ê°€ë‹ˆ ë¡œê·¸ê°€ ë–´ìŠµë‹ˆë‹¤.  

### DataBinding
DataBindingì„ ìœ„í•´ì„œ xmlì— ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²•ì€ ê°™ìŠµë‹ˆë‹¤.  
í•˜ì§€ë§Œ LiveDataë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ lifecycleOwnerë¥¼ ì„¤ì •í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.
```kotlin
val binding = DataBindingUtil.setContentView<ActivityMainBinding>(this, R.layout.activity_main)
binding.lifecycleOwner = this
```

## ê²°ë¡ 
íŠ¹ë³„í•œ ìƒí™©ì´ ì•„ë‹ˆë¼ë©´ ObservableField ë³´ë‹¨ LiveDataë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.  

[ì´ ë¬¸ì„œ](https://developer.android.com/topic/libraries/architecture/livedata#the_advantages_of_using_livedata){:target="_blank"}ì— ì¥ì ì´ ì˜ ë‚˜ì™€ìˆìœ¼ë‹ˆ ì½ì–´ë³´ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ë„¤ìš”.  

ë”ë¶ˆì–´ LiveDataë¥¼ ViewModelì—ì„œ ì‚¬ìš©í•  ë•ŒëŠ” ì´ëŸ°ì‹ìœ¼ë¡œ mutableí•œ LiveDataëŠ” privateìœ¼ë¡œ ìˆ¨ê²¨ì„œ ê°’ì˜ ë³€ê²½ì´ ViewModelì—ì„œë§Œ ì¼ì–´ë‚˜ë„ë¡ ë³´ì¥ í•˜ëŠ” ë°©ì‹ì„ ë§ì´ ì‚¬ìš©í•©ë‹ˆë‹¤.
```kotlin
class MainViewModel : ViewModel() {
    private val _exampleValue = MutableLiveData("")
    val exampleValue: LiveData<String> = _password
}
```

ê¸€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!  
ì§ˆë¬¸ì´ë‚˜ í”¼ë“œë°±ì€ í™˜ì˜ì…ë‹ˆë‹¤ğŸ˜Š

### ì°¸ê³ 
[LiveData Overview](https://developer.android.com/topic/libraries/architecture/livedata){:target="_blank"}